
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>kitty-diff - A side-by-side diff tool with syntax highlighting and images &#8212; kitty  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/kitty.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Hints" href="hints.html" />
    <link rel="prev" title="Support kitty development" href="../support.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/kitty.png" alt="Logo"/>
    
  </a>
</p>











<div id="support" style="text-align: center">
    <form class="support-form" action="../support.html" title="Donate to support kitty development">
        <input type="submit" value="Support kitty">
    </form>
</div>

<div id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search" />
      <input type="submit" value="Go" style="cursor: pointer" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">kitty-diff - A side-by-side diff tool with syntax highlighting and images</a><ul>
<li><a class="reference internal" href="#major-features">Major Features</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#keyboard-controls">Keyboard controls</a></li>
<li><a class="reference internal" href="#configuring-kitty-diff">Configuring kitty-diff</a></li>
<li><a class="reference internal" href="#integrating-with-git">Integrating with git</a></li>
<li><a class="reference internal" href="#why-does-this-work-only-in-kitty">Why does this work only in kitty?</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../support.html" title="previous chapter">Support kitty development</a></li>
      <li>Next: <a href="hints.html" title="next chapter">Hints</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="kitty-diff-a-side-by-side-diff-tool-with-syntax-highlighting-and-images">
<h1><a class="toc-backref" href="#id1">kitty-diff - A side-by-side diff tool with syntax highlighting and images</a><a class="headerlink" href="#kitty-diff-a-side-by-side-diff-tool-with-syntax-highlighting-and-images" title="Permalink to this headline">¶</a></h1>
<div class="section" id="major-features">
<h2><a class="toc-backref" href="#id2">Major Features</a><a class="headerlink" href="#major-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Displays diffs side-by-side in the kitty terminal.</li>
<li>Does syntax highlighting of displayed diffs</li>
<li>Displays images as well as text diffs, even over SSH</li>
<li>Does recursive directory diffing</li>
</ul>
<img alt="Screenshot, showing a sample diff" src="../_images/diff.png" />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#kitty-diff-a-side-by-side-diff-tool-with-syntax-highlighting-and-images" id="id1">kitty-diff - A side-by-side diff tool with syntax highlighting and images</a><ul>
<li><a class="reference internal" href="#major-features" id="id2">Major Features</a></li>
<li><a class="reference internal" href="#installation" id="id3">Installation</a></li>
<li><a class="reference internal" href="#usage" id="id4">Usage</a></li>
<li><a class="reference internal" href="#keyboard-controls" id="id5">Keyboard controls</a></li>
<li><a class="reference internal" href="#configuring-kitty-diff" id="id6">Configuring kitty-diff</a></li>
<li><a class="reference internal" href="#integrating-with-git" id="id7">Integrating with git</a></li>
<li><a class="reference internal" href="#why-does-this-work-only-in-kitty" id="id8">Why does this work only in kitty?</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id3">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Simply install <a class="reference external" href="https://github.com/kovidgoyal/kitty">kitty</a>.  You also need
to have either the <a class="reference external" href="https://git-scm.com/">git</a> program or the <code class="docutils literal notranslate"><span class="pre">diff</span></code> program
installed. Additionally, for syntax highlighting to work,
<a class="reference external" href="http://pygments.org/">pygments</a> must be installed (note that pygments is
included in the macOS kitty app).</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>In the kitty terminal, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kitty</span> <span class="o">+</span><span class="n">kitten</span> <span class="n">diff</span> <span class="n">file1</span> <span class="n">file2</span>
</pre></div>
</div>
<p>to see the diff between file1 and file2.</p>
<p>Create an alias in your shell’s startup file to shorten the command, for example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">alias</span> <span class="nv">d</span><span class="o">=</span><span class="s2">&quot;kitty +kitten diff&quot;</span>
</pre></div>
</div>
<p>Now all you need to do to diff two files is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="n">file1</span> <span class="n">file2</span>
</pre></div>
</div>
<p>You can also pass directories instead of files to see the recursive diff of the
directory contents.</p>
</div>
<div class="section" id="keyboard-controls">
<h2><a class="toc-backref" href="#id5">Keyboard controls</a><a class="headerlink" href="#keyboard-controls" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action</th>
<th class="head">Shortcut</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Quit</td>
<td><code class="docutils literal notranslate"><span class="pre">q,</span> <span class="pre">Ctrl+c</span></code></td>
</tr>
<tr class="row-odd"><td>Scroll line up</td>
<td><code class="docutils literal notranslate"><span class="pre">k,</span> <span class="pre">up</span></code></td>
</tr>
<tr class="row-even"><td>Scroll line down</td>
<td><code class="docutils literal notranslate"><span class="pre">j,</span> <span class="pre">down</span></code></td>
</tr>
<tr class="row-odd"><td>Scroll page up</td>
<td><code class="docutils literal notranslate"><span class="pre">PgUp</span></code></td>
</tr>
<tr class="row-even"><td>Scroll page down</td>
<td><code class="docutils literal notranslate"><span class="pre">PgDn</span></code></td>
</tr>
<tr class="row-odd"><td>Scroll to top</td>
<td><code class="docutils literal notranslate"><span class="pre">Home</span></code></td>
</tr>
<tr class="row-even"><td>Scroll to bottom</td>
<td><code class="docutils literal notranslate"><span class="pre">End</span></code></td>
</tr>
<tr class="row-odd"><td>Scroll to next page</td>
<td><code class="docutils literal notranslate"><span class="pre">Space,</span> <span class="pre">PgDn</span></code></td>
</tr>
<tr class="row-even"><td>Scroll to previous page</td>
<td><code class="docutils literal notranslate"><span class="pre">PgUp</span></code></td>
</tr>
<tr class="row-odd"><td>Scroll to next change</td>
<td><code class="docutils literal notranslate"><span class="pre">n</span></code></td>
</tr>
<tr class="row-even"><td>Scroll to previous change</td>
<td><code class="docutils literal notranslate"><span class="pre">p</span></code></td>
</tr>
<tr class="row-odd"><td>Increase lines of context</td>
<td><code class="docutils literal notranslate"><span class="pre">+</span></code></td>
</tr>
<tr class="row-even"><td>Decrease lines of context</td>
<td><code class="docutils literal notranslate"><span class="pre">-</span></code></td>
</tr>
<tr class="row-odd"><td>All lines of context</td>
<td><code class="docutils literal notranslate"><span class="pre">a</span></code></td>
</tr>
<tr class="row-even"><td>Restore default context</td>
<td><code class="docutils literal notranslate"><span class="pre">=</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuring-kitty-diff">
<h2><a class="toc-backref" href="#id6">Configuring kitty-diff</a><a class="headerlink" href="#configuring-kitty-diff" title="Permalink to this headline">¶</a></h2>
<p>You can configure the colors used, keyboard shortcut, the diff implementation,
the default lines of context, etc.  by creating a diff.conf in your kitty
config folder. The default diff.conf is below.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># vim:fileencoding=utf-8:ft=conf</span>

<span class="c1"># File extension aliases for syntax highlight</span>
<span class="c1"># For example, to syntax highlight file.xyz as</span>
<span class="c1"># file.abc use a setting of xyz:abc</span>
<span class="na">syntax_aliases pyj:py recipe:py</span>

<span class="c1"># The pygments color scheme to use for syntax highlighting.</span>
<span class="c1"># See https://help.farbox.com/pygments.html for a list of schemes.</span>
<span class="na">pygments_style default</span>

<span class="c1"># The number of lines of context to show around each change.</span>
<span class="na">num_context_lines 3</span>

<span class="c1"># The diff command to use. Must contain the placeholder _CONTEXT_</span>
<span class="c1"># which will be replaced by the number of lines of context. The default</span>
<span class="c1"># is to search the system for either git or diff and use that, if found.</span>
<span class="na">diff_cmd auto</span>

<span class="c1"># The string to replace tabs with. Default is to use four spaces.</span>
<span class="na">replace_tab_by \x20\x20\x20\x20</span>

<span class="c1"># Colors</span>
<span class="na">foreground            black</span>
<span class="na">background            white</span>
<span class="na">title_fg              black</span>
<span class="na">title_bg              white</span>
<span class="na">margin_bg             #fafbfc</span>
<span class="na">margin_fg             #aaaaaa</span>
<span class="na">removed_bg            #ffeef0</span>
<span class="na">highlight_removed_bg  #fdb8c0</span>
<span class="na">removed_margin_bg     #ffdce0</span>
<span class="na">added_bg              #e6ffed</span>
<span class="na">highlight_added_bg    #acf2bd</span>
<span class="na">added_margin_bg       #cdffd8</span>
<span class="na">filler_bg             #fafbfc</span>
<span class="na">hunk_margin_bg        #dbedff</span>
<span class="na">hunk_bg               #f1f8ff</span>


<span class="c1"># Keyboard shortcuts</span>
<span class="na">map q quit</span>
<span class="na">map esc quit</span>
<span class="na">map j scroll_by 1</span>
<span class="na">map k scroll_by -1</span>
<span class="na">map down scroll_by 1</span>
<span class="na">map up scroll_by -1</span>
<span class="na">map home scroll_to start</span>
<span class="na">map end scroll_to end</span>
<span class="na">map page_down scroll_to next-page</span>
<span class="na">map page_up scroll_to prev-page</span>
<span class="na">map space scroll_to next-page</span>
<span class="na">map n scroll_to next-change</span>
<span class="na">map p scroll_to prev-change</span>
<span class="na">map a change_context all</span>
<span class="na">map</span> <span class="o">=</span> <span class="s">change_context default</span>
<span class="na">map + change_context 5</span>
<span class="na">map - change_context -5</span>
</pre></div>
</div>
</div>
<div class="section" id="integrating-with-git">
<h2><a class="toc-backref" href="#id7">Integrating with git</a><a class="headerlink" href="#integrating-with-git" title="Permalink to this headline">¶</a></h2>
<p>Add the following to <cite>~/.gitconfig</cite>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[diff]</span>
    <span class="na">tool</span> <span class="o">=</span> <span class="s">kitty</span>
<span class="s">    guitool = kitty.gui</span>
<span class="k">[difftool]</span>
    <span class="na">prompt</span> <span class="o">=</span> <span class="s">false</span>
<span class="s">    trustExitCode = true</span>
<span class="k">[difftool &quot;kitty&quot;]</span>
    <span class="na">cmd</span> <span class="o">=</span> <span class="s">kitty +kitten diff $LOCAL $REMOTE</span>
<span class="k">[difftool &quot;kitty.gui&quot;]</span>
    <span class="na">cmd</span> <span class="o">=</span> <span class="s">kitty kitty +kitten diff $LOCAL $REMOTE</span>
</pre></div>
</div>
<p>Now to use kitty-diff to view git diffs, you can simply do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">difftool</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">symlinks</span> <span class="o">--</span><span class="nb">dir</span><span class="o">-</span><span class="n">diff</span>
</pre></div>
</div>
<p>Once again, creating an alias for this command is useful.</p>
</div>
<div class="section" id="why-does-this-work-only-in-kitty">
<h2><a class="toc-backref" href="#id8">Why does this work only in kitty?</a><a class="headerlink" href="#why-does-this-work-only-in-kitty" title="Permalink to this headline">¶</a></h2>
<p>The diff kitten makes use of various features that are
<a class="reference internal" href="../protocol-extensions.html"><span class="doc">kitty only</span></a>,  such as the
<a class="reference internal" href="../graphics-protocol.html"><span class="doc">kitty graphics protocol</span></a>,
the extended keyboard protocol, etc. It also leverages
terminal program infrastructure I created for all of kitty’s other kittens to
reduce the amount of code needed (the entire implementation is under 2000 lines
of code).</p>
<p>And fundamentally, it’s kitty only because I wrote it for myself, and I am
highly unlikely to use any other terminals :)</p>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, Kovid Goyal.
      
    </div>

    
    <a href="https://github.com/kovidgoyal/kitty" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-20736318-2']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>